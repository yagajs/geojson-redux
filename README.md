# GeoJSON in states with Redux

[![Build Status](https://travis-ci.org/yagajs/leaflet-ng2.svg?branch=develop)](https://travis-ci.org/yagajs/geojson-redux)
[![Coverage Status](https://coveralls.io/repos/github/yagajs/leaflet-ng2/badge.svg?branch=develop)](https://coveralls.io/github/yagajs/geojson-redux?branch=master)
[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2Fyagajs%2Fgeojson-redux.svg?type=shield)](https://app.fossa.io/projects/git%2Bgithub.com%2Fyagajs%2Fgeojson-redux?ref=badge_shield)

YAGA's geojson-redux is a predictable state container implementation for [GeoJSON](http://geojson.org/) in
[Redux](http://redux.js.org/).

## How to use

First you have to install this library from npm:

```bash
npm install --save geojson-redux
# OR
yarn isntall --save gejson-redux # for those who prefer yarn...
```

This module works like a normal Redux module. You should do something like that:

```js
import { createStore, combineReducers } from "redux"
import { geoJSONReducer } from "geojson-redux";

const reducer = combineReducers({
    geojson: geoJSONReducer,
    // maybe: anotherReducer
});

const store = createStore(reducer);
```

If you want to use it in a simple way, just for GeoJSON and not in combination with other Redux reducers:

```js
import { createGeoJSONStore } from "geojson-redux";
const store = createGeoJSONStore();
```

*Note: This module is developed in TypeScript. You can specify the Geometry and properties type*

```typescript
import { createGeoJSONStore } from "geojson-redux";
import { Point } from "geojson";

interface IMyProperties {
    name: string;
}

const store = createGeoJSONStore<Point, IMyProperties>();
```

## Working with this geojson-redux

After you created your store you can handle your store by actions:

```js
store.dispatch(action);
```

You can perform the following action:

* `addFeature`
* `removeFeature`
* `changeGeometry`
* `changeProperties`


### Add feature

```js
const geoJSONFeature = {
    geometry: {
        type: "Point",
        coordinates: [
            // ...
        ],
    },
    properties: {
        // ...
    },
    type: "Feature",
};

const addAction = {
    type: "addFeature",
    feature: geoJSONFeature,
};

store.dispatch(addAction);
```

*Note: every feature will get an autogenerated ID if you not specify one!*

### Remove feature

```js
const removeAction = {
    type: "removeFeature",
    featureId: "feature-id",
};

store.dispatch(removeAction);
```

### Change geometry of a feature

```js
const geoJSONGeometry = {
    coordinates: [1,2],
    type: "Point",
};
const changeGeometryAction = {
    type: "changeGeometry",
    featureId: "feature-id",
    geometry: geoJSONGeometry,
};

store.dispatch(changeGeometryAction);
```

### Change properties of a feature

```js
const geoJSONProperties = {
    name: "just a test",
    test: "OK",
};
const changePropertiesAction = {
    type: "changeProperties",
    featureId: "feature-id",
    geometry: geoJSONProperties,
};

store.dispatch(changePropertiesAction);
```

## License

This library is released under the [ISC License](LICENSE).


[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2Fyagajs%2Fgeojson-redux.svg?type=large)](https://app.fossa.io/projects/git%2Bgithub.com%2Fyagajs%2Fgeojson-redux?ref=badge_large)